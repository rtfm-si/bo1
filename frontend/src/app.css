@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   CSS Custom Properties - Theme-aware variables
   Set by theme system in lib/design/themes.ts
   ============================================================================ */

:root {
	/* Font family */
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
		'Open Sans', 'Helvetica Neue', sans-serif;

	/* Default theme colors (light) - will be overridden by theme system */
	--color-background: #fafafa;
	--color-surface: #ffffff;
	--color-surfaceVariant: #f5f5f5;
	--color-textPrimary: #171717;
	--color-textSecondary: #525252;
	--color-textTertiary: #737373;
	--color-border: #e5e5e5;
	--color-borderFocus: #0284c7;
	--color-brand: #0284c7;
	--color-accent: #9333ea;
	--color-success: #16a34a;
	--color-warning: #eab308;
	--color-error: #dc2626;
	--color-info: #2563eb;
}

/* ============================================================================
   Global Styles
   ============================================================================ */

body {
	background-color: var(--color-background);
	color: var(--color-textPrimary);
	transition: background-color 200ms, color 200ms;
}

/* ============================================================================
   Utility Classes - Deprecated (use components instead)
   ============================================================================ */

/* Legacy button classes - prefer <Button> component */
.btn-primary {
	@apply bg-brand-600 text-white px-4 py-2 rounded-md hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 transition-colors;
}

.btn-secondary {
	@apply bg-neutral-200 text-neutral-900 px-4 py-2 rounded-md hover:bg-neutral-300 focus:outline-none focus:ring-2 focus:ring-neutral-500 focus:ring-offset-2 transition-colors dark:bg-neutral-700 dark:text-neutral-100 dark:hover:bg-neutral-600;
}

/* Legacy card class - prefer <Card> component */
.card {
	@apply rounded-lg shadow-md p-6;
	background-color: var(--color-surface);
}

/* ============================================================================
   Theme-aware Text Colors (replaces hardcoded Tailwind dark mode)
   ============================================================================ */

/* Primary text (headings, important content) */
h1,
h2,
h3,
h4,
h5,
h6,
.text-neutral-900,
.dark .text-neutral-900 {
	color: var(--color-textPrimary) !important;
}

/* Secondary text (body, descriptions) */
p,
.text-neutral-600,
.dark .text-neutral-600 {
	color: var(--color-textSecondary) !important;
}

/* Tertiary text (labels, meta info) */
.text-neutral-500,
.dark .text-neutral-500 {
	color: var(--color-textTertiary) !important;
}

/* Override dark mode text utilities to use theme variables */
.dark .text-neutral-100 {
	color: var(--color-textPrimary) !important;
}

.dark .text-neutral-400 {
	color: var(--color-textSecondary) !important;
}

.dark .text-neutral-200 {
	color: var(--color-textPrimary) !important;
}

/* Border colors - use theme variables */
.border-neutral-200,
.dark .border-neutral-200 {
	border-color: var(--color-border) !important;
}

.border-neutral-700,
.dark .border-neutral-700 {
	border-color: var(--color-border) !important;
}

.border-neutral-800,
.dark .border-neutral-800 {
	border-color: var(--color-border) !important;
}

/* ============================================================================
   Accessibility Enhancements
   ============================================================================ */

/* Focus visible styling for keyboard navigation */
*:focus-visible {
	@apply outline-none ring-2 ring-brand-500 ring-offset-2;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* ============================================================================
   Scrollbar Styling
   ============================================================================ */

/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
	@apply w-2 h-2;
}

::-webkit-scrollbar-track {
	@apply bg-neutral-100 dark:bg-neutral-900;
}

::-webkit-scrollbar-thumb {
	@apply bg-neutral-300 dark:bg-neutral-700 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
	@apply bg-neutral-400 dark:bg-neutral-600;
}

/* Firefox */
* {
	scrollbar-width: thin;
	scrollbar-color: theme('colors.neutral.300') theme('colors.neutral.100');
}

.dark * {
	scrollbar-color: theme('colors.neutral.700') theme('colors.neutral.900');
}
